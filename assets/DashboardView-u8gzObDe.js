import{a as c}from"./axios-L6U4YIEh.js";import{_ as p,c as v,a,b as s,w as n,f as m,F as g,r as d,o as f,d as i}from"./index-iCAPqCLT.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"joychiang",BASE_URL:"/0228/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_}=b,k={methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)joyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){c.defaults.headers.common.Authorization=t;const e=`${_}/api/user/check`;c.post(e,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(r=>{alert(r.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signOut(){const t=`${_}/logout`;c.post(t).then(()=>{alert("登出成功！"),document.cookie="joyToken=; expires=; path=/",this.$router.push("/")}).catch(e=>{alert(e.response.data.message)})}},mounted(){this.checkAdmin()}},x={class:"navbar navbar-expand-lg navbar-light bg-light"},V={class:"container-fluid"},$=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),R={class:"collapse navbar-collapse",id:"navbarNav"},T={class:"navbar-nav"},E={class:"nav-item"},w={class:"nav-item"},N={class:"nav-item"},A={class:"nav-item"};function L(t,e,r,O,y,l){const o=d("RouterLink"),u=d("RouterView");return f(),v(g,null,[a("nav",x,[a("div",V,[s(o,{to:"/",class:"navbar-brand"},{default:n(()=>[i("回到前台")]),_:1}),$,a("div",R,[a("ul",T,[a("li",E,[s(o,{to:"/admin/product",class:"nav-link active"},{default:n(()=>[i("商品列表")]),_:1})]),a("li",w,[s(o,{to:"/admin/order",class:"nav-link"},{default:n(()=>[i("訂單列表")]),_:1})]),a("li",N,[s(o,{to:"",class:"nav-link"},{default:n(()=>[i("優惠卷")]),_:1})]),a("li",A,[a("a",{href:"#",onClick:e[0]||(e[0]=m((...h)=>l.signOut&&l.signOut(...h),["prevent"])),class:"nav-link"},"登出")])])])])]),s(u)],64)}const S=p(k,[["render",L]]);export{S as default};
